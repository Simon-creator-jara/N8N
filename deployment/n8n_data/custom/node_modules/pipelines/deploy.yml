steps:
  - script: |
      echo $(lib-name)
    displayName: 'Build'

  - task: CopyFiles@2
    displayName: 'Copy source code'
    inputs:
      sourceFolder: '$(System.DefaultWorkingDirectory)/$(component-name)/'
      contents: |
        **.tgz
      targetFolder: $(Build.ArtifactStagingDirectory)/$(component-name)/$(lib-name)

  - task: ArtifactoryGenericUpload@2
    displayName: Publish Artifact to Artifactory
    inputs:
      artifactoryService: Artifactory
      fileSpec: |
        {
          "files": [
            {
              "pattern": "$(Build.ArtifactStagingDirectory)/$(component-name)/$(lib-name)/*.tgz",
              "target": "npm-bancolombia/$(lib-name)/"
            }
          ]
        }
      collectBuildInfo: true